import{d as E,j as I,s as v,e as k,o as i,w as y,a as s,b as e,u as a,h as G,c,m as u,t as n,g as x,v as J,z as W,T as X,F as Y,r as K,q as h,B as S,f as Q,A as f}from"./app-DIfGBhdw.js";import{B as A,X as Z,_ as ee,U as te,F as re,S as oe}from"./AppLayout.vue_vue_type_script_setup_true_lang-DEFNQQW8.js";import{c as b,_}from"./index-BNcwXc1D.js";import{_ as T,C as M}from"./Checkbox.vue_vue_type_script_setup_true_lang-BvzEjuXR.js";import{C as ae,M as se}from"./mail-b4ZsCppB.js";import"./useForwardExpose-Cmn0lcHe.js";import"./VisuallyHidden-B4SZPls0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BI-OeNuL.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=b("CheckCheckIcon",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=b("CircleAlertIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=b("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=b("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=b("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ue={class:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100 dark:from-gray-900 dark:via-blue-900/20 dark:to-indigo-900/20"},ge={class:"w-full max-w-5xl mx-auto p-6"},pe={class:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-3xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50 overflow-hidden backdrop-blur-sm"},me={class:"relative bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 p-8"},ve={class:"relative z-10"},ye={class:"flex items-center gap-4 mb-3"},he={class:"relative"},xe={class:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-3xl flex items-center justify-center border border-white/30"},fe={key:0,class:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white text-sm font-bold animate-bounce"},be={class:"text-white/80"},ke={key:0,class:"text-white/70 text-sm mt-1"},_e={class:"px-8 py-6 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border-b border-gray-200/50 dark:border-gray-700/50"},we={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4"},Ce={class:"flex flex-wrap items-center gap-4"},Ne={class:"flex items-center gap-3"},Se={key:0,class:"flex items-center gap-2"},Ae={class:"flex items-center gap-3"},Me={class:"relative"},je={class:"max-h-[70vh] overflow-y-auto px-4"},Ue={key:"empty",class:"px-8 py-16 text-center"},$e={class:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner"},Ie={class:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2"},Te={class:"text-gray-500 dark:text-gray-500"},De=["onClick"],Re={key:0,class:"absolute top-4 right-4 w-3 h-3 bg-indigo-500 rounded-full animate-pulse ring-2 ring-indigo-200"},ze={class:"p-6 pl-10"},Be={class:"flex items-start gap-4"},Ve={class:"flex items-center pt-2"},Fe={class:"flex-shrink-0 relative"},Le={key:0,class:"relative"},qe=["src","alt"],Oe={class:"flex-1 min-w-0"},He={class:"flex items-start justify-between gap-4 mb-3"},Pe=["onClick"],Ee={class:"flex items-center justify-between"},Ge={class:"flex items-center gap-3"},Je={class:"flex items-center gap-2 text-xs bg-white/60 dark:bg-gray-800/60 px-3 py-1.5 rounded-full"},We={class:"font-medium text-gray-600 dark:text-gray-400"},Xe={key:0,class:"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide"},Ye={key:1,class:"flex items-center gap-1"},Ke={class:"px-8 py-6 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-700 border-t border-gray-200/50 dark:border-gray-600/50"},Qe={class:"flex items-center justify-between"},Ze={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2"},et={class:"flex items-center gap-2 text-xs text-gray-400"},dt=E({__name:"Index",props:{user:{},unreadNotifications:{},allNotifications:{},unreadCount:{}},setup(D){const d=D,l=I([]),p=I("all"),j=v(()=>d.user?d.user.toLowerCase().split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "):"User"),R=r=>({"App\\Notifications\\MessageNotification":{icon:se,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-100",iconColor:"text-blue-600"},"App\\Notifications\\SystemNotification":{icon:oe,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-100",iconColor:"text-orange-600"},"App\\Notifications\\ReminderNotification":{icon:ae,color:"from-green-500 to-green-600",bgColor:"bg-green-100",iconColor:"text-green-600"},"App\\Notifications\\AlertNotification":{icon:ie,color:"from-red-500 to-red-600",bgColor:"bg-red-100",iconColor:"text-red-600"},"App\\Notifications\\DocumentNotification":{icon:re,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-100",iconColor:"text-purple-600"},"App\\Notifications\\UserNotification":{icon:te,color:"from-indigo-500 to-indigo-600",bgColor:"bg-indigo-100",iconColor:"text-indigo-600"}})[r]||{icon:A,color:"from-gray-500 to-gray-600",bgColor:"bg-gray-100",iconColor:"text-gray-600"},z=r=>{const t=new Date(r),g=Math.floor((new Date().getTime()-t.getTime())/(1e3*60));if(g<1)return"Just now";if(g<60)return`${g}m ago`;const N=Math.floor(g/60);if(N<24)return`${N}h ago`;const $=Math.floor(N/24);return $<7?`${$}d ago`:t.toLocaleDateString()},w=v(()=>d.allNotifications.data.map(r=>{const t=R(r.type);return{id:r.id,type:r.type,title:r.data.title||"Notification",description:r.data.message||r.data.body||"No description available",time:z(r.created_at),read_at:r.read_at,icon:t.icon,color:t.color,bgColor:t.bgColor,iconColor:t.iconColor,avatar:r.data.user?.avatar||null,userName:r.data.user?.name||null,priority:r.read_at?"low":"medium",raw:r}})),B=v(()=>w.value.filter(r=>!r.read_at)),m=v(()=>p.value==="unread"?B.value:p.value==="read"?w.value.filter(r=>r.read_at):w.value),U=v(()=>m.value.length>0&&l.value.length===m.value.length),V=v(()=>l.value.length>0),F=()=>{U.value?l.value=[]:l.value=m.value.map(r=>r.id)},L=r=>{const t=l.value.indexOf(r);t>-1?l.value.splice(t,1):l.value.push(r)},C=r=>{r?f.patch(`/notifications/${r}/read`,{},{preserveState:!0,preserveScroll:!0}):f.patch("/notifications/mark-selected-read",{notification_ids:l.value},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{l.value=[]}})},q=()=>{f.patch("/notifications/mark-all-read",{},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{l.value=[]}})},O=()=>{f.delete("/notifications/delete-selected",{data:{notification_ids:l.value},preserveState:!0,preserveScroll:!0,onSuccess:()=>{l.value=[]}})},H=r=>{f.delete(`/notifications/${r}`,{preserveState:!0,preserveScroll:!0})},P=r=>({high:"bg-red-500 animate-pulse",medium:"bg-yellow-500",low:"bg-green-500"})[r];return(r,t)=>(i(),k(ee,null,{default:y(()=>[s(a(G),{title:"Notifications"}),e("div",ue,[e("div",ge,[e("div",pe,[e("div",me,[t[4]||(t[4]=e("div",{class:"absolute inset-0 bg-black/10"},null,-1)),e("div",ve,[e("div",ye,[e("div",he,[e("div",xe,[s(a(A),{class:"w-8 h-8 text-white"})]),d.unreadCount>0?(i(),c("div",fe,n(d.unreadCount),1)):u("",!0)]),e("div",null,[t[3]||(t[3]=e("h1",{class:"text-3xl font-bold text-white mb-1"},"Notifications",-1)),e("p",be,n(d.unreadCount)+" unread â€¢ "+n(d.allNotifications.total)+" total ",1),j.value?(i(),c("p",ke," Welcome back, "+n(j.value)+"! ðŸ‘‹ ",1)):u("",!0)])])])]),e("div",_e,[e("div",we,[e("div",Ce,[e("div",Ne,[s(a(T),{checked:U.value,"onUpdate:checked":F,class:"rounded-md border-2"},null,8,["checked"]),t[5]||(t[5]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Select All ",-1))]),V.value?(i(),c("div",Se,[s(a(_),{onClick:t[0]||(t[0]=o=>C()),variant:"outline",size:"sm",class:"gap-2 text-green-700 border-green-200 hover:bg-green-50 dark:text-green-400 dark:border-green-700 dark:hover:bg-green-900/20 rounded-xl transition-all duration-200 hover:scale-105"},{default:y(()=>[s(a(M),{class:"h-4 w-4"}),x(" Mark Selected Read ("+n(l.value.length)+") ",1)]),_:1}),s(a(_),{onClick:O,variant:"outline",size:"sm",class:"gap-2 text-red-700 border-red-200 hover:bg-red-50 dark:text-red-400 dark:border-red-700 dark:hover:bg-red-900/20 rounded-xl transition-all duration-200 hover:scale-105"},{default:y(()=>[s(a(ce),{class:"h-4 w-4"}),t[6]||(t[6]=x(" Delete Selected ",-1))]),_:1,__:[6]})])):u("",!0)]),e("div",Ae,[e("div",Me,[J(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>p.value=o),class:"appearance-none bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 rounded-xl px-4 py-2 pr-10 text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200"},t[7]||(t[7]=[e("option",{value:"all"},"All Notifications",-1),e("option",{value:"unread"},"Unread Only",-1),e("option",{value:"read"},"Read Only",-1)]),512),[[W,p.value]]),s(a(de),{class:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]),d.unreadCount>0?(i(),k(a(_),{key:0,onClick:q,class:"gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 shadow-lg rounded-xl",size:"sm"},{default:y(()=>[s(a(le),{class:"h-4 w-4"}),t[8]||(t[8]=x(" Mark All Read ",-1))]),_:1,__:[8]})):u("",!0)])])]),e("div",je,[s(X,{name:"notification",tag:"div","enter-active-class":"transition-all duration-500 ease-out","leave-active-class":"transition-all duration-300 ease-in","enter-from-class":"opacity-0 -translate-y-4 scale-95","leave-to-class":"opacity-0 translate-x-full scale-95","move-class":"transition-transform duration-300 ease-out",class:"space-y-4 py-6"},{default:y(()=>[m.value.length===0?(i(),c("div",Ue,[e("div",$e,[s(a(A),{class:"w-12 h-12 text-gray-400"})]),e("h3",Ie," No "+n(p.value)+" notifications ",1),e("p",Te,n(p.value==="unread"?"All caught up! You're doing great! ðŸŽ‰":"No notifications to display."),1)])):u("",!0),(i(!0),c(Y,null,K(m.value,o=>(i(),c("div",{key:o.id,onClick:g=>!o.read_at&&C(o.id),class:h(["group relative mx-4 rounded-2xl border-2 transition-all duration-300 cursor-pointer hover:shadow-xl hover:scale-[1.02] hover:-translate-y-1",[o.read_at?"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 border-gray-200 dark:border-gray-600 opacity-75 hover:opacity-100":"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-700 shadow-lg",l.value.includes(o.id)&&"ring-4 ring-indigo-300 dark:ring-indigo-600 scale-105"]])},[e("div",{class:h(["absolute top-4 left-4 w-3 h-3 rounded-full",P(o.priority)])},null,2),o.read_at?u("",!0):(i(),c("div",Re)),e("div",ze,[e("div",Be,[e("div",Ve,[s(a(T),{checked:l.value.includes(o.id),"onUpdate:checked":()=>L(o.id),onClick:t[2]||(t[2]=S(()=>{},["stop"])),class:"rounded-md border-2"},null,8,["checked","onUpdate:checked"])]),e("div",Fe,[o.avatar?(i(),c("div",Le,[e("img",{src:o.avatar,alt:o.title,class:"w-14 h-14 rounded-2xl object-cover border-2 border-white dark:border-gray-700 shadow-lg"},null,8,qe)])):(i(),c("div",{key:1,class:h(["w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg border-2 border-white/50 dark:border-gray-700/50",o.bgColor])},[(i(),k(Q(o.icon),{class:h(["h-7 w-7",o.iconColor])},null,8,["class"]))],2))]),e("div",Oe,[e("div",He,[e("h4",{class:h(["text-lg font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-200",{"text-gray-600 dark:text-gray-400":o.read_at}])},n(o.title),3),e("button",{onClick:S(g=>H(o.id),["stop"]),class:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 transition-all duration-200 transform hover:scale-110 p-2 rounded-xl hover:bg-white/50 dark:hover:bg-gray-800/50"},[s(a(Z),{class:"w-5 h-5"})],8,Pe)]),e("p",{class:h(["text-gray-700 dark:text-gray-300 leading-relaxed mb-4 text-sm",{"text-gray-500 dark:text-gray-500":o.read_at}])},n(o.description),3),e("div",Ee,[e("div",Ge,[e("div",Je,[s(a(ne),{class:"w-3 h-3 text-gray-500"}),e("span",We,n(o.time),1)]),o.read_at?u("",!0):(i(),c("span",Xe," New ")),o.read_at?(i(),c("div",Ye,[s(a(M),{class:"h-3 w-3 text-green-500"}),t[9]||(t[9]=e("span",{class:"text-xs text-green-600 dark:text-green-400 font-medium"},"Read",-1))])):u("",!0)]),o.read_at?u("",!0):(i(),k(a(_),{key:0,onClick:S(g=>C(o.id),["stop"]),variant:"ghost",size:"sm",class:"opacity-0 group-hover:opacity-100 h-8 px-3 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/20 rounded-xl transition-all duration-200"},{default:y(()=>[s(a(M),{class:"h-4 w-4 mr-1"}),t[10]||(t[10]=x(" Mark Read ",-1))]),_:2,__:[10]},1032,["onClick"]))])])])])],10,De))),128))]),_:1})]),e("div",Ke,[e("div",Qe,[e("p",Ze,[t[11]||(t[11]=e("span",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"},null,-1)),x(" Showing "+n(m.value.length)+" of "+n(d.allNotifications.total)+" notifications ",1)]),e("div",et,[e("span",null,"Page "+n(d.allNotifications.current_page)+" of "+n(d.allNotifications.last_page),1)])])])])])])]),_:1}))}});export{dt as default};
