import{u as b,F as w,_ as v}from"./AppLayout.vue_vue_type_script_setup_true_lang-G5VTsuT6.js";import{d as M,c as g,e as l,m as p,k as r,g as e,u as a,q as B,z as C,l as m,p as n,f as u,F as I,B as j,j as i,C as y,D as P}from"./app-DK4mrD-r.js";import{c}from"./index-ygQjSavS.js";import{M as V,P as z,C as D}from"./phone-CYn3Y3kz.js";import{B as E}from"./badge-check-DyTLcs6c.js";import"./useForwardExpose-CEiBLOBu.js";import"./VisuallyHidden-B2dkldQW.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BZ5PHVoU.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=c("BadgeMinusIcon",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=c("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=c("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=c("MapPinIcon",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=c("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=c("TriangleAlertIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),N={class:"min-h-screen bg-gray-50 py-8 dark:bg-gray-900"},S={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Z={class:"mb-8"},H={class:"mb-2 flex items-center gap-3"},O={class:"mb-6 flex justify-end"},$={class:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"},G={class:"mb-3 flex items-start justify-between"},J={class:"flex items-center gap-2"},K={class:"text-lg font-semibold text-gray-900 dark:text-white"},Q={class:"flex flex-col gap-1"},R={class:"mb-4 space-y-2"},U={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},W={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},X={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},Y={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},ee={class:"flex items-center justify-between"},ce=M({__name:"Index",props:{facilities:Object},setup(f){const k=b(),o=d=>{if(!d)return"expired";const s=new Date,t=new Date(d),h=Math.ceil((t.getTime()-s.getTime())/(1e3*3600*24));return h<0?"expired":h<=30?"expiring-soon":"active"},x=d=>{const s={active:{text:"",icon:E,classes:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"},"expiring-soon":{text:"Expires Soon",icon:L,classes:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"},expired:{text:"Expired",icon:F,classes:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}};return s[d]||s.expired};return(d,s)=>(l(),g(v,null,{default:p(()=>[r(a(B),{title:"Index"}),e("div",N,[e("div",S,[e("div",Z,[e("div",H,[r(a(_),{class:"h-8 w-8 text-blue-600"}),s[0]||(s[0]=e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Manage Facilities",-1))]),s[1]||(s[1]=e("p",{class:"mt-2 text-gray-600 dark:text-gray-300"},"View and manage facilities",-1))]),e("div",O,[a(k).hasPermission("create-facility")?(l(),g(a(m),{key:0,class:"flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2.5 font-medium text-white transition hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 focus:outline-none",href:d.route("facilities.create")},{default:p(()=>[r(a(A),{class:"h-5 w-5"}),s[2]||(s[2]=n(" Create Facility ",-1))]),_:1,__:[2]},8,["href"])):C("",!0)]),e("div",$,[(l(!0),u(I,null,j(f.facilities,t=>(l(),u("div",{key:t.id,class:"rounded-lg border border-transparent bg-white p-6 shadow transition-all hover:shadow-lg dark:border-gray-700 dark:bg-gray-800 dark:shadow-gray-700/25 dark:hover:shadow-gray-700/40"},[e("div",G,[e("div",J,[r(a(_),{class:"h-5 w-5 text-blue-600"}),e("h3",K,i(t.name),1)]),e("div",Q,[e("span",{class:y(["inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-medium",x(o(t.licence_expiry_date)).classes])},[(l(),g(P(x(o(t.licence_expiry_date)).icon),{class:"h-3 w-3"})),n(" "+i(x(o(t.licence_expiry_date)).text),1)],2)])]),e("div",R,[e("div",U,[r(a(q),{class:"h-4 w-4 text-gray-400"}),n(" "+i(t.location),1)]),e("div",W,[r(a(V),{class:"h-4 w-4 text-gray-400"}),n(" "+i(t.email),1)]),e("div",X,[r(a(z),{class:"h-4 w-4 text-gray-400"}),n(" "+i(t.contact_number),1)]),e("div",Y,[r(a(w),{class:"h-4 w-4 text-gray-400"}),n(" License: "+i(t.licence_number),1)]),e("div",{class:y(["flex items-center gap-2 text-sm",{"text-green-600 dark:text-green-400":o(t.licence_expiry_date)==="active","text-yellow-600 dark:text-yellow-400":o(t.licence_expiry_date)==="expiring-soon","text-red-600 dark:text-red-400":o(t.licence_expiry_date)==="expired"}])},[r(a(D),{class:"h-4 w-4"}),n(" Expires: "+i(t.licence_expiry_date),1)],2)]),e("div",ee,[r(a(m),{class:"flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm text-white transition-colors hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-offset-gray-800"},{default:p(()=>[r(a(T),{class:"h-4 w-4"}),s[3]||(s[3]=n(" View Details ",-1))]),_:1,__:[3]})])]))),128))])])])]),_:1}))}});export{ce as default};
