import{d as X,j as I,s as y,e as f,o as l,w as p,a as o,b as e,u as s,h as Y,c as n,m as c,t as d,g as x,v as K,z as Q,T as Z,F as ee,r as te,q as m,B as k,f as re,A as _}from"./app-DCEhoyes.js";import{u as ae,B as A,X as se,F as z,_ as oe,U as le,S as de}from"./AppLayout.vue_vue_type_script_setup_true_lang-BlWnFC-j.js";import{c as w,_ as h}from"./index-Drk-d3SH.js";import{_ as T,C as j}from"./Checkbox.vue_vue_type_script_setup_true_lang-Cg-KapKR.js";import{M as $,P as D,C as ne}from"./phone-D6OCtSu6.js";import"./useForwardExpose-B-EZ2Hh0.js";import"./VisuallyHidden-CQDPtlnZ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-7jzya4Ye.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=w("CheckCheckIcon",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=w("CircleAlertIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=w("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=w("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=w("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xe={class:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100 dark:from-gray-900 dark:via-blue-900/20 dark:to-indigo-900/20"},me={class:"w-full max-w-5xl mx-auto p-6"},he={class:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-3xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50 overflow-hidden backdrop-blur-sm"},ve={class:"relative bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 p-8"},be={class:"relative z-10"},ye={class:"flex items-center gap-4 mb-3"},ke={class:"relative"},fe={class:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-3xl flex items-center justify-center border border-white/30"},_e={key:0,class:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white text-sm font-bold animate-bounce"},we={class:"text-white/80"},Ce={key:0,class:"text-white/70 text-sm mt-1"},Ne={class:"px-8 py-6 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border-b border-gray-200/50 dark:border-gray-700/50"},Se={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4"},Ae={class:"flex flex-wrap items-center gap-4"},je={class:"flex items-center gap-3"},$e={key:0,class:"flex items-center gap-2"},Me={class:"flex items-center gap-3"},Ue={class:"relative"},Ie={class:"max-h-[70vh] overflow-y-auto px-4"},ze={key:"empty",class:"px-8 py-16 text-center"},Te={class:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner"},De={class:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2"},Re={class:"text-gray-500 dark:text-gray-500"},Ve=["onClick"],Be={key:0,class:"absolute top-4 right-4 w-3 h-3 bg-indigo-500 rounded-full animate-pulse ring-2 ring-indigo-200"},Fe={class:"p-6 pl-10"},Le={class:"flex items-start gap-4"},qe={class:"flex items-center pt-2"},Pe={class:"flex-shrink-0 relative"},Oe={key:0,class:"relative"},Ee=["src","alt"],He={class:"flex-1 min-w-0"},Je={class:"flex items-start justify-between gap-4 mb-3"},Ge=["onClick"],We={key:0,class:"space-y-3"},Xe={class:"bg-white/70 dark:bg-gray-800/70 rounded-lg p-3 border border-gray-200/50 dark:border-gray-600/50"},Ye={class:"flex items-center justify-between mb-3"},Ke={class:"flex items-center gap-3"},Qe={key:0,class:"w-8 h-8 rounded-lg overflow-hidden border border-white dark:border-gray-600"},Ze=["src","alt"],et={key:1,class:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-xs"},tt={class:"font-semibold text-gray-900 dark:text-white text-sm"},rt={class:"text-xs text-gray-500 dark:text-gray-400"},at={class:"font-medium"},st={class:"flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400 mb-3"},ot={class:"flex items-center gap-1"},lt={key:0,class:"flex items-center gap-1"},dt={class:"flex items-center gap-2"},nt={key:1},it={class:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200/50 dark:border-gray-600/50"},ct={class:"flex items-center gap-3"},gt={class:"flex items-center gap-2 text-xs bg-white/60 dark:bg-gray-800/60 px-3 py-1.5 rounded-full"},ut={class:"font-medium text-gray-600 dark:text-gray-400"},pt={key:0,class:"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide"},xt={key:1,class:"flex items-center gap-1"},mt={class:"px-8 py-6 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-700 border-t border-gray-200/50 dark:border-gray-600/50"},ht={class:"flex items-center justify-between"},vt={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2"},bt={class:"flex items-center gap-2 text-xs text-gray-400"},At=X({__name:"Index",props:{user:{},unreadNotifications:{},allNotifications:{},unreadCount:{}},setup(R){const V=ae(),g=R,i=I([]),v=I("all"),B=y(()=>g.user?g.user.toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "):"User"),F=a=>({"App\\Notifications\\MessageNotification":{icon:$,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-100",iconColor:"text-blue-600"},"App\\Notifications\\SystemNotification":{icon:de,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-100",iconColor:"text-orange-600"},"App\\Notifications\\ReminderNotification":{icon:ne,color:"from-green-500 to-green-600",bgColor:"bg-green-100",iconColor:"text-green-600"},"App\\Notifications\\AlertNotification":{icon:ce,color:"from-red-500 to-red-600",bgColor:"bg-red-100",iconColor:"text-red-600"},"App\\Notifications\\DocumentNotification":{icon:z,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-100",iconColor:"text-purple-600"},"App\\Notifications\\UserNotification":{icon:le,color:"from-indigo-500 to-indigo-600",bgColor:"bg-indigo-100",iconColor:"text-indigo-600"}})[a]||{icon:A,color:"from-gray-500 to-gray-600",bgColor:"bg-gray-100",iconColor:"text-gray-600"},L=a=>{const r=new Date(a),u=Math.floor((new Date().getTime()-r.getTime())/(1e3*60));if(u<1)return"Just now";if(u<60)return`${u}m ago`;const S=Math.floor(u/60);if(S<24)return`${S}h ago`;const U=Math.floor(S/24);return U<7?`${U}d ago`:r.toLocaleDateString()},C=y(()=>g.allNotifications.data.map(a=>{const r=F(a.type);return{id:a.id,type:a.type,title:a.data.title||"Notification",description:a.data.message||a.data.body||"No description available",time:L(a.created_at),read_at:a.read_at,icon:r.icon,color:r.color,bgColor:r.bgColor,iconColor:r.iconColor,avatar:a.data.user?.avatar||null,userName:a.data.user?.name||null,priority:a.read_at?"low":"medium",raw:a}})),q=y(()=>C.value.filter(a=>!a.read_at)),b=y(()=>v.value==="unread"?q.value:v.value==="read"?C.value.filter(a=>a.read_at):C.value),M=y(()=>b.value.length>0&&i.value.length===b.value.length),P=y(()=>i.value.length>0),O=()=>{M.value?i.value=[]:i.value=b.value.map(a=>a.id)},E=a=>{const r=i.value.indexOf(a);r>-1?i.value.splice(r,1):i.value.push(a)},N=a=>{a?_.patch(`/notifications/${a}/read`,{},{preserveState:!0,preserveScroll:!0}):_.patch("/notifications/mark-selected-read",{notification_ids:i.value},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{i.value=[]}})},H=()=>{_.patch("/notifications/mark-all-read",{},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{i.value=[]}})},J=()=>{_.delete("/notifications/delete-selected",{data:{notification_ids:i.value},preserveState:!0,preserveScroll:!0,onSuccess:()=>{i.value=[]}})},G=a=>{_.delete(`/notifications/${a}`,{preserveState:!0,preserveScroll:!0})},W=a=>({high:"bg-red-500 animate-pulse",medium:"bg-yellow-500",low:"bg-green-500"})[a];return(a,r)=>(l(),f(oe,null,{default:p(()=>[o(s(Y),{title:"Notifications"}),e("div",xe,[e("div",me,[e("div",he,[e("div",ve,[r[4]||(r[4]=e("div",{class:"absolute inset-0 bg-black/10"},null,-1)),e("div",be,[e("div",ye,[e("div",ke,[e("div",fe,[o(s(A),{class:"w-8 h-8 text-white"})]),g.unreadCount>0?(l(),n("div",_e,d(g.unreadCount),1)):c("",!0)]),e("div",null,[r[3]||(r[3]=e("h1",{class:"text-3xl font-bold text-white mb-1"},"Notifications",-1)),e("p",we,d(g.unreadCount)+" unread â€¢ "+d(g.allNotifications.total)+" total ",1),B.value?(l(),n("p",Ce," Welcome back, "+d(s(V).name)+"! ðŸ‘‹ ",1)):c("",!0)])])])]),e("div",Ne,[e("div",Se,[e("div",Ae,[e("div",je,[o(s(T),{checked:M.value,"onUpdate:checked":O,class:"rounded-md border-2"},null,8,["checked"]),r[5]||(r[5]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Select All ",-1))]),P.value?(l(),n("div",$e,[o(s(h),{onClick:r[0]||(r[0]=t=>N()),variant:"outline",size:"sm",class:"gap-2 text-green-700 border-green-200 hover:bg-green-50 dark:text-green-400 dark:border-green-700 dark:hover:bg-green-900/20 rounded-xl transition-all duration-200 hover:scale-105"},{default:p(()=>[o(s(j),{class:"h-4 w-4"}),x(" Mark Selected Read ("+d(i.value.length)+") ",1)]),_:1}),o(s(h),{onClick:J,variant:"outline",size:"sm",class:"gap-2 text-red-700 border-red-200 hover:bg-red-50 dark:text-red-400 dark:border-red-700 dark:hover:bg-red-900/20 rounded-xl transition-all duration-200 hover:scale-105"},{default:p(()=>[o(s(pe),{class:"h-4 w-4"}),r[6]||(r[6]=x(" Delete Selected ",-1))]),_:1,__:[6]})])):c("",!0)]),e("div",Me,[e("div",Ue,[K(e("select",{"onUpdate:modelValue":r[1]||(r[1]=t=>v.value=t),class:"appearance-none bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 rounded-xl px-4 py-2 pr-10 text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200"},r[7]||(r[7]=[e("option",{value:"all"},"All Notifications",-1),e("option",{value:"unread"},"Unread Only",-1),e("option",{value:"read"},"Read Only",-1)]),512),[[Q,v.value]]),o(s(ue),{class:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]),g.unreadCount>0?(l(),f(s(h),{key:0,onClick:H,class:"gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 shadow-lg rounded-xl",size:"sm"},{default:p(()=>[o(s(ie),{class:"h-4 w-4"}),r[8]||(r[8]=x(" Mark All Read ",-1))]),_:1,__:[8]})):c("",!0)])])]),e("div",Ie,[o(Z,{name:"notification",tag:"div","enter-active-class":"transition-all duration-500 ease-out","leave-active-class":"transition-all duration-300 ease-in","enter-from-class":"opacity-0 -translate-y-4 scale-95","leave-to-class":"opacity-0 translate-x-full scale-95","move-class":"transition-transform duration-300 ease-out",class:"space-y-4 py-6"},{default:p(()=>[b.value.length===0?(l(),n("div",ze,[e("div",Te,[o(s(A),{class:"w-12 h-12 text-gray-400"})]),e("h3",De," No "+d(v.value)+" notifications ",1),e("p",Re,d(v.value==="unread"?"All caught up! You're doing great! ðŸŽ‰":"No notifications to display."),1)])):c("",!0),(l(!0),n(ee,null,te(b.value,t=>(l(),n("div",{key:t.id,onClick:u=>!t.read_at&&N(t.id),class:m(["group relative mx-4 rounded-2xl border-2 transition-all duration-300 cursor-pointer hover:shadow-xl hover:scale-[1.02] hover:-translate-y-1",[t.read_at?"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 border-gray-200 dark:border-gray-600 opacity-75 hover:opacity-100":"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-700 shadow-lg",i.value.includes(t.id)&&"ring-4 ring-indigo-300 dark:ring-indigo-600 scale-105"]])},[e("div",{class:m(["absolute top-4 left-4 w-3 h-3 rounded-full",W(t.priority)])},null,2),t.read_at?c("",!0):(l(),n("div",Be)),e("div",Fe,[e("div",Le,[e("div",qe,[o(s(T),{checked:i.value.includes(t.id),"onUpdate:checked":()=>E(t.id),onClick:r[2]||(r[2]=k(()=>{},["stop"])),class:"rounded-md border-2"},null,8,["checked","onUpdate:checked"])]),e("div",Pe,[t.avatar?(l(),n("div",Oe,[e("img",{src:t.avatar,alt:t.title,class:"w-14 h-14 rounded-2xl object-cover border-2 border-white dark:border-gray-700 shadow-lg"},null,8,Ee)])):(l(),n("div",{key:1,class:m(["w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg border-2 border-white/50 dark:border-gray-700/50",t.bgColor])},[(l(),f(re(t.icon),{class:m(["h-7 w-7",t.iconColor])},null,8,["class"]))],2))]),e("div",He,[e("div",Je,[e("h4",{class:m(["text-lg font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-200",{"text-gray-600 dark:text-gray-400":t.read_at}])},d(t.title),3),e("button",{onClick:k(u=>G(t.id),["stop"]),class:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 transition-all duration-200 transform hover:scale-110 p-2 rounded-xl hover:bg-white/50 dark:hover:bg-gray-800/50"},[o(s(se),{class:"w-5 h-5"})],8,Ge)]),t.raw.data.type==="job_interest"?(l(),n("div",We,[e("div",Xe,[e("div",Ye,[e("div",Ke,[t.raw.data.user.avatar?(l(),n("div",Qe,[e("img",{src:t.raw.data.user.avatar,alt:t.raw.data.user.name,class:"w-full h-full object-cover"},null,8,Ze)])):(l(),n("div",et,d(t.raw.data.user.name.charAt(0).toUpperCase()),1)),e("div",null,[e("h5",tt,d(t.raw.data.user.name),1),e("p",rt,[r[9]||(r[9]=x(" Applied for: ",-1)),e("span",at,d(t.raw.data.job.title),1)])])]),t.raw.data.user.licence_status?(l(),n("span",{key:0,class:m(["text-xs px-2 py-1 rounded-full",t.raw.data.user.licence_status==="active"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"])},d(t.raw.data.user.licence_status)+" license ",3)):c("",!0)]),e("div",st,[e("div",ot,[o(s($),{class:"w-3 h-3"}),e("span",null,d(t.raw.data.user.email),1)]),t.raw.data.user.contacts?(l(),n("div",lt,[o(s(D),{class:"w-3 h-3"}),e("span",null,d(t.raw.data.user.contacts),1)])):c("",!0)]),e("div",dt,[o(s(h),{onClick:k(u=>a.window.open(`mailto:${t.raw.data.user.email}?subject=Regarding your application for ${t.raw.data.job.title}`,"_blank"),["stop"]),variant:"outline",size:"sm",class:"gap-1 text-xs px-2 py-1 h-7 text-blue-700 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:hover:bg-blue-900/20 rounded-lg"},{default:p(()=>[o(s($),{class:"w-3 h-3"}),r[10]||(r[10]=x(" Email ",-1))]),_:2,__:[10]},1032,["onClick"]),t.raw.data.user.contacts?(l(),f(s(h),{key:0,onClick:k(u=>a.window.open(`tel:${t.raw.data.user.contacts}`,"_self"),["stop"]),variant:"outline",size:"sm",class:"gap-1 text-xs px-2 py-1 h-7 text-green-700 border-green-200 hover:bg-green-50 dark:text-green-400 dark:border-green-700 dark:hover:bg-green-900/20 rounded-lg"},{default:p(()=>[o(s(D),{class:"w-3 h-3"}),r[11]||(r[11]=x(" Call ",-1))]),_:2,__:[11]},1032,["onClick"])):c("",!0),o(s(h),{onClick:k(u=>a.window.open(t.raw.data.action_url,"_blank"),["stop"]),variant:"outline",size:"sm",class:"gap-1 text-xs px-2 py-1 h-7 text-indigo-700 border-indigo-200 hover:bg-indigo-50 dark:text-indigo-400 dark:border-indigo-700 dark:hover:bg-indigo-900/20 rounded-lg"},{default:p(()=>[o(s(z),{class:"w-3 h-3"}),r[12]||(r[12]=x(" View Job ",-1))]),_:2,__:[12]},1032,["onClick"])])])])):(l(),n("div",nt,[e("p",{class:m(["text-gray-700 dark:text-gray-300 leading-relaxed mb-4 text-sm",{"text-gray-500 dark:text-gray-500":t.read_at}])},d(t.description),3)])),e("div",it,[e("div",ct,[e("div",gt,[o(s(ge),{class:"w-3 h-3 text-gray-500"}),e("span",ut,d(t.time),1)]),t.read_at?c("",!0):(l(),n("span",pt," New ")),t.read_at?(l(),n("div",xt,[o(s(j),{class:"h-3 w-3 text-green-500"}),r[13]||(r[13]=e("span",{class:"text-xs text-green-600 dark:text-green-400 font-medium"},"Read",-1))])):c("",!0)]),t.read_at?c("",!0):(l(),f(s(h),{key:0,onClick:k(u=>N(t.id),["stop"]),variant:"ghost",size:"sm",class:"opacity-0 group-hover:opacity-100 h-8 px-3 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/20 rounded-xl transition-all duration-200"},{default:p(()=>[o(s(j),{class:"h-4 w-4 mr-1"}),r[14]||(r[14]=x(" Mark Read ",-1))]),_:2,__:[14]},1032,["onClick"]))])])])])],10,Ve))),128))]),_:1})]),e("div",mt,[e("div",ht,[e("p",vt,[r[15]||(r[15]=e("span",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"},null,-1)),x(" Showing "+d(b.value.length)+" of "+d(g.allNotifications.total)+" notifications ",1)]),e("div",bt,[e("span",null,"Page "+d(g.allNotifications.current_page)+" of "+d(g.allNotifications.last_page),1)])])])])])])]),_:1}))}});export{At as default};
