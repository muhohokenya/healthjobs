import{d as q,J as B,c as o,o as a,a as c,u as b,h as D,w as m,b as e,m as x,g as p,n as y,E as h,G as L,H as _,F as k,r as M,t as i,q as n,K as H}from"./app-CfY9CbLW.js";import{u as N,_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-CvO559ih.js";import"./index-rJ3GXQMJ.js";import"./useForwardExpose-D-R56FXk.js";import"./VisuallyHidden-B6azDIEx.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CVXuEW5s.js";const P={class:"min-h-screen bg-gray-50 py-8 dark:bg-gray-900"},U={class:"mx-auto max-w-8xl px-4 sm:px-6 lg:px-8"},A={key:0,class:"mb-6 rounded-md bg-red-100 p-4 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},z={key:1,class:"mb-6 flex justify-end"},K={class:"mb-6 rounded-lg bg-white p-6 shadow dark:bg-gray-800 dark:shadow-gray-700/25"},E={class:"grid grid-cols-1 gap-4 md:grid-cols-5"},G=["value"],R={class:"flex items-end"},W={class:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"},Y={class:"p-6 pb-4"},j={class:"absolute top-4 right-4"},Q={class:"flex items-center justify-between mb-3"},X={class:"flex items-center text-sm text-gray-600 dark:text-gray-400"},Z={class:"mb-4"},ee={class:"px-6 pb-4 flex-1"},te={class:"mb-4"},re=["innerHTML"],se={key:0,class:"mb-4"},oe={class:"space-y-1"},ae={class:"line-clamp-1"},le={key:0,class:"text-xs text-gray-500 dark:text-gray-400 italic"},ce=q({__name:"Index",props:{jobs:Object,locations:Object,filters:Object,isProfileComplete:Boolean},setup(C){const F=N(),f=C,d=B({search:f.filters.search||"",job_type:f.filters.job_type||"",time_filter:f.filters.time_filter||"",location:f.filters.location||""}),I=()=>{H.get(route("health-jobs.index"),d,{preserveState:!0,replace:!0})},J=s=>s.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),T=s=>new Intl.NumberFormat("en-US").format(s),S=s=>{const t=new Date(s),l=Math.floor((new Date().getTime()-t.getTime())/(1e3*60));if(l<1)return"Just now";if(l<60)return`${l} min ago`;const u=Math.floor(l/60);if(u<24)return`${u} hour${u>1?"s":""} ago`;const g=Math.floor(u/24);if(g<7)return`${g} day${g>1?"s":""} ago`;const v=Math.floor(g/7);if(v<4)return`${v} week${v>1?"s":""} ago`;const w=Math.floor(g/30);if(w<12)return`${w} month${w>1?"s":""} ago`;const $=Math.floor(g/365);return`${$} year${$>1?"s":""} ago`},V=(s,t=150)=>{if(!s)return"";const r=s.replace(/<[^>]*>/g,"");if(r.length<=t)return s;const l=r.substring(0,t),u=l.lastIndexOf(" ");return(u>0?l.substring(0,u):l)+"..."};return(s,t)=>(a(),o(k,null,[c(b(D),{title:"Health Job"}),c(O,null,{default:m(()=>[e("div",P,[e("div",U,[t[19]||(t[19]=e("div",{class:"mb-7"},[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Health Jobs"),e("p",{class:"mt-2 text-gray-600 dark:text-gray-300"},"Find your next healthcare opportunity")],-1)),f.isProfileComplete?x("",!0):(a(),o("div",A,[t[5]||(t[5]=p(" ⚠️ Please complete your profile to unlock full job details and apply. ",-1)),c(b(y),{href:s.route("profile.update"),class:"ml-3 text-blue-600 underline"},{default:m(()=>t[4]||(t[4]=[p("Complete Profile",-1)])),_:1,__:[4]},8,["href"])])),b(F).hasPermission("create-job-postings")?(a(),o("div",z,[c(b(y),{class:"flex items-center rounded-md bg-blue-600 px-4 py-2.5 font-medium text-white transition hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 focus:outline-none",href:s.route("health-jobs.create")},{default:m(()=>t[6]||(t[6]=[p("Create New Job",-1)])),_:1,__:[6]},8,["href"])])):x("",!0),e("div",K,[t[15]||(t[15]=e("h2",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"},"Filter Jobs",-1)),e("div",E,[e("div",null,[t[7]||(t[7]=e("label",{for:"search",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Search",-1)),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>d.search=r),type:"text",id:"search",placeholder:"Search jobs...",class:"w-full rounded-md border border-gray-300 bg-white px-4 py-2.5 text-gray-900 placeholder-gray-500 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400"},null,512),[[L,d.search]])]),e("div",null,[t[9]||(t[9]=e("label",{for:"time_filter",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"By Time",-1)),h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>d.time_filter=r),id:"time_filter",class:"w-full rounded-md border border-gray-300 bg-white px-4 py-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-400 dark:focus:ring-blue-400"},t[8]||(t[8]=[e("option",{value:""},"By time",-1),e("option",{value:"latest"},"Latest",-1),e("option",{value:"oldest"},"Oldest",-1)]),512),[[_,d.time_filter]])]),e("div",null,[t[11]||(t[11]=e("label",{for:"job_type_filter",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Job Type",-1)),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>d.job_type=r),id:"job_type_filter",class:"w-full rounded-md border border-gray-300 bg-white px-4 py-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-400 dark:focus:ring-blue-400"},t[10]||(t[10]=[e("option",{value:""},"All Job Types",-1),e("option",{value:"full-time"},"Full Time",-1),e("option",{value:"part-time"},"Locum",-1)]),512),[[_,d.job_type]])]),e("div",null,[t[13]||(t[13]=e("label",{for:"location",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Location",-1)),h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>d.location=r),id:"location",class:"w-full rounded-md border border-gray-300 bg-white px-4 py-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-400 dark:focus:ring-blue-400"},[t[12]||(t[12]=e("option",{value:""},"Select Location",-1)),(a(!0),o(k,null,M(C.locations,r=>(a(),o("option",{value:r.location,key:r},i(r.location),9,G))),128))],512),[[_,d.location]])]),e("div",R,[e("button",{onClick:I,class:"mr-3 w-full rounded-md bg-blue-600 px-4 py-2.5 text-white transition-colors hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-offset-gray-800 cursor-pointer"}," Apply Filters "),c(b(y),{class:"w-full rounded-md bg-red-400 px-4 py-2.5 text-white transition-colors hover:bg-red-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-offset-gray-800 cursor-pointer",href:s.route("health-jobs.index")},{default:m(()=>t[14]||(t[14]=[p("Clear Filters",-1)])),_:1,__:[14]},8,["href"])])])]),e("div",W,[(a(!0),o(k,null,M(f.jobs.data,r=>(a(),o("div",{key:r.id,class:n(["group relative flex flex-col overflow-hidden rounded-xl border transition-all duration-300 hover:-translate-y-1",r.user.license_status==="active"?"border-gray-200 bg-white shadow-md hover:shadow-xl hover:shadow-blue-500/10 dark:border-gray-700 dark:bg-gray-800":"border-red-200 bg-red-50/30 shadow-md opacity-90 hover:opacity-100 dark:border-red-900/40 dark:bg-red-950/20"])},[e("div",{class:n(["absolute top-0 left-0 right-0 h-1",r.user.license_status==="active"?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gradient-to-r from-red-500 to-orange-500"])},null,2),e("div",Y,[e("div",j,[e("span",{class:n(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",r.user.license_status==="active"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"])},i(S(r.created_at)),3)]),e("h3",{class:n(["text-lg font-bold leading-tight mb-2 pr-20 line-clamp-2",r.user.license_status==="active"?"text-gray-900 dark:text-white":"text-gray-700 dark:text-gray-300"])},i(r.title),3),e("div",Q,[e("span",{class:n(["inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium",r.user.license_status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300"])},i(J(r.job_type)),3),e("div",X,[t[16]||(t[16]=e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),p(" "+i(r.location),1)])]),e("div",Z,[e("span",{class:n(["text-lg font-bold",r.user.license_status==="active"?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"])}," Ksh "+i(T(r.salary_min))+" - "+i(T(r.salary_max)),3)])]),e("div",ee,[e("div",te,[e("div",{class:n(["text-sm text-gray-600 dark:text-gray-400 line-clamp-3",r.user.license_status!=="active"?"opacity-70":""]),innerHTML:V(r.description,150)},null,10,re)]),r.qualifications&&r.qualifications.length>0?(a(),o("div",se,[t[17]||(t[17]=e("h4",{class:"text-sm font-semibold mb-2 text-gray-800 dark:text-gray-200"}," Key Requirements: ",-1)),e("ul",oe,[(a(!0),o(k,null,M(r.qualifications.slice(0,2),(l,u)=>(a(),o("li",{key:u,class:"flex items-start text-xs text-gray-600 dark:text-gray-400"},[e("div",{class:n(["w-1.5 h-1.5 rounded-full mt-1.5 mr-2 flex-shrink-0",r.user.license_status==="active"?"bg-blue-500":"bg-red-500"])},null,2),e("span",ae,i(l),1)]))),128)),r.qualifications.length>2?(a(),o("li",le," +"+i(r.qualifications.length-2)+" more requirements ",1)):x("",!0)])])):x("",!0)]),e("div",{class:n(["p-6 pt-4 border-t mt-auto",r.user.license_status==="active"?"border-gray-100 dark:border-gray-700":"border-red-100 dark:border-red-800"])},[c(b(y),{href:s.route("health-jobs.show",r.uuid),class:n(["w-full inline-flex items-center justify-center px-4 py-2.5 text-sm font-semibold rounded-lg transition-all duration-200 focus:ring-2 focus:ring-offset-2",r.user.license_status==="active"?"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-md hover:shadow-lg":"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-md hover:shadow-lg"])},{default:m(()=>[e("span",null,i(r.user.license_status==="active"?"View Details":"Proceed with Caution"),1),t[18]||(t[18]=e("svg",{class:"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),_:2,__:[18]},1032,["href","class"])],2)],2))),128))])])])]),_:1})],64))}});export{ce as default};
