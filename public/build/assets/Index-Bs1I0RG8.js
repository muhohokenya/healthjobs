import{d as B,J as F,c as s,o as l,a as f,u as b,h as I,w as c,b as t,m,g as p,n as x,E as y,G as q,H as w,F as h,r as _,t as u,K as D}from"./app-Bbu4fG4j.js";import{u as L,_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-AzO_-zgX.js";import"./index-B1O7kHdG.js";import"./useForwardExpose-DQ8Kt1HP.js";import"./VisuallyHidden-CR9RGqwd.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-z8D7e67p.js";const H={class:"min-h-screen bg-gray-50 py-8 dark:bg-gray-900"},O={class:"mx-auto max-w-8xl px-4 sm:px-6 lg:px-8"},U={key:0,class:"mb-6 rounded-md bg-red-100 p-4 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},A={key:1,class:"mb-6 flex justify-end"},N={class:"mb-6 rounded-lg bg-white p-6 shadow dark:bg-gray-800 dark:shadow-gray-700/25"},P={class:"grid grid-cols-1 gap-4 md:grid-cols-5"},K=["value"],z={class:"flex items-end"},E={class:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"},G={class:"p-6 pb-4"},R={class:"absolute top-4 right-4 flex items-center gap-2"},W={class:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"},Y={class:"text-lg font-bold leading-tight mb-2 pr-20 line-clamp-2 text-gray-900 dark:text-white"},Q={class:"flex items-center justify-between mb-3"},X={class:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300"},Z={class:"flex items-center text-sm text-gray-600 dark:text-gray-400"},ee={class:"px-6 pb-4 flex-1"},te={class:"mb-4"},re=["innerHTML"],oe={key:0,class:"mb-4"},se={class:"space-y-1"},le={class:"line-clamp-1"},ae={key:0,class:"text-xs text-gray-500 dark:text-gray-400 italic"},ie={class:"p-6 pt-4 border-t border-gray-100 dark:border-gray-700 mt-auto lg:grid lg:grid-cols-1 lg:grid-cols-2 lg:grid-cols-2"},ne={key:0,class:"relative group/badge"},me=B({__name:"Index",props:{jobs:Object,locations:Object,filters:Object,isProfileComplete:Boolean},setup(M){const C=L(),g=M,i=F({search:g.filters.search||"",job_type:g.filters.job_type||"",time_filter:g.filters.time_filter||"",location:g.filters.location||""}),$=()=>{D.get(route("health-jobs.index"),i,{preserveState:!0,replace:!0})},j=o=>o.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),J=o=>{const e=new Date(o),a=Math.floor((new Date().getTime()-e.getTime())/(1e3*60));if(a<1)return"Just now";if(a<60)return`${a} min ago`;const n=Math.floor(a/60);if(n<24)return`${n} hour${n>1?"s":""} ago`;const d=Math.floor(n/24);if(d<7)return`${d} day${d>1?"s":""} ago`;const k=Math.floor(d/7);if(k<4)return`${k} week${k>1?"s":""} ago`;const v=Math.floor(d/30);if(v<12)return`${v} month${v>1?"s":""} ago`;const T=Math.floor(d/365);return`${T} year${T>1?"s":""} ago`},V=(o,e=150)=>{if(!o)return"";const r=o.replace(/<[^>]*>/g,"");if(r.length<=e)return o;const a=r.substring(0,e),n=a.lastIndexOf(" ");return(n>0?a.substring(0,n):a)+"..."};return(o,e)=>(l(),s(h,null,[f(b(I),{title:"Health Job"}),f(S,null,{default:c(()=>[t("div",H,[t("div",O,[e[22]||(e[22]=t("div",{class:"mb-7"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Health Jobs"),t("p",{class:"mt-2 text-gray-600 dark:text-gray-300"},"Find your next healthcare opportunity")],-1)),g.isProfileComplete?m("",!0):(l(),s("div",U,[e[5]||(e[5]=p(" ⚠️ Kindly complete your profile to enhance the credibility of your posts. ",-1)),f(b(x),{href:o.route("profile.update"),class:"ml-3 text-blue-600 underline"},{default:c(()=>e[4]||(e[4]=[p("Complete Profile",-1)])),_:1,__:[4]},8,["href"])])),b(C).hasPermission("create-job-postings")?(l(),s("div",A,[f(b(x),{class:"flex items-center rounded-md bg-blue-600 px-4 py-2.5 font-medium text-white transition hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 focus:outline-none",href:o.route("health-jobs.create")},{default:c(()=>e[6]||(e[6]=[p("Create New Job",-1)])),_:1,__:[6]},8,["href"])])):m("",!0),t("div",N,[e[15]||(e[15]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"},"Filter Jobs",-1)),t("div",P,[t("div",null,[e[7]||(e[7]=t("label",{for:"search",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Search",-1)),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>i.search=r),type:"text",id:"search",placeholder:"Search jobs...",class:"w-full rounded-md border border-gray-300 bg-white px-4 py-2.5 text-gray-900 placeholder-gray-500 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400"},null,512),[[q,i.search]])]),t("div",null,[e[9]||(e[9]=t("label",{for:"time_filter",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"By Time",-1)),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>i.time_filter=r),id:"time_filter",class:"w-full rounded-md border border-gray-300 bg-white px-4 py-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-400 dark:focus:ring-blue-400"},e[8]||(e[8]=[t("option",{value:""},"By time",-1),t("option",{value:"latest"},"Latest",-1),t("option",{value:"oldest"},"Oldest",-1)]),512),[[w,i.time_filter]])]),t("div",null,[e[11]||(e[11]=t("label",{for:"job_type_filter",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Job Type",-1)),y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>i.job_type=r),id:"job_type_filter",class:"w-full rounded-md border border-gray-300 bg-white px-4 py-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-400 dark:focus:ring-blue-400"},e[10]||(e[10]=[t("option",{value:""},"All Job Types",-1),t("option",{value:"full-time"},"Full Time",-1),t("option",{value:"part-time"},"Locum",-1)]),512),[[w,i.job_type]])]),t("div",null,[e[13]||(e[13]=t("label",{for:"location",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Location",-1)),y(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>i.location=r),id:"location",class:"w-full rounded-md border border-gray-300 bg-white px-4 py-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-400 dark:focus:ring-blue-400"},[e[12]||(e[12]=t("option",{value:""},"Select Location",-1)),(l(!0),s(h,null,_(M.locations,r=>(l(),s("option",{value:r.location,key:r},u(r.location),9,K))),128))],512),[[w,i.location]])]),t("div",z,[t("button",{onClick:$,class:"mr-3 w-full rounded-md bg-blue-600 px-4 py-2.5 text-white transition-colors hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-offset-gray-800 cursor-pointer"}," Apply Filters "),f(b(x),{class:"w-full rounded-md bg-red-400 px-4 py-2.5 text-white transition-colors hover:bg-red-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-offset-gray-800 cursor-pointer",href:o.route("health-jobs.index")},{default:c(()=>e[14]||(e[14]=[p("Clear Filters",-1)])),_:1,__:[14]},8,["href"])])])]),t("div",E,[(l(!0),s(h,null,_(g.jobs.data,r=>(l(),s("div",{key:r.id,class:"group relative flex flex-col overflow-hidden rounded-xl border border-gray-200 bg-white shadow-md transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:shadow-blue-500/10 dark:border-gray-700 dark:bg-gray-800"},[e[21]||(e[21]=t("div",{class:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-purple-500"},null,-1)),t("div",G,[t("div",R,[t("span",W,u(J(r.created_at)),1)]),t("h3",Y,u(r.title),1),t("div",Q,[t("span",X,u(j(r.job_type)),1),t("div",Z,[e[16]||(e[16]=t("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),p(" "+u(r.location),1)])])]),t("div",ee,[t("div",te,[t("div",{class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3",innerHTML:V(r.description,150)},null,8,re)]),r.qualifications&&r.qualifications.length>0?(l(),s("div",oe,[e[18]||(e[18]=t("h4",{class:"text-sm font-semibold mb-2 text-gray-800 dark:text-gray-200"}," Key Requirements: ",-1)),t("ul",se,[(l(!0),s(h,null,_(r.qualifications.slice(0,2),(a,n)=>(l(),s("li",{key:n,class:"flex items-start text-xs text-gray-600 dark:text-gray-400"},[e[17]||(e[17]=t("div",{class:"w-1.5 h-1.5 rounded-full mt-1.5 mr-2 flex-shrink-0 bg-blue-500"},null,-1)),t("span",le,u(a),1)]))),128)),r.qualifications.length>2?(l(),s("li",ae," +"+u(r.qualifications.length-2)+" more requirements ",1)):m("",!0)])])):m("",!0)]),t("div",ie,[t("div",null,[f(b(x),{href:o.route("health-jobs.show",r.uuid),class:"inline-flex items-center justify-center px-4 py-2.5 text-sm font-semibold rounded-lg transition-all duration-200 focus:ring-2 focus:ring-offset-2 border border-gray-300 bg-transparent text-gray-700 hover:bg-blue-600 hover:text-white hover:border-blue-600 focus:ring-blue-500 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-blue-600 dark:hover:text-white dark:hover:border-blue-600"},{default:c(()=>e[19]||(e[19]=[t("span",null,"View Details",-1),t("svg",{class:"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:2,__:[19]},1032,["href"])]),r.user.license_status!=="active"?(l(),s("div",ne,e[20]||(e[20]=[t("small",null,"Unverified",-1)]))):m("",!0)])]))),128))])])])]),_:1})],64))}});export{me as default};
